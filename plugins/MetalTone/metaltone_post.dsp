
/*******************************************************************************
**************************** File generated by *********************************
********************************************************************************
 ./build-plug.py -i MetalZone.sch -b
*******************************************************************************/

// generated automatically
// DO NOT MODIFY!
declare id "metalzone";
declare name "metalzone";
declare category "Extern";
declare shortname "metalzone";
declare description "metalzone";

import("stdfaust.lib");


p3 = pre : fi.iir((b0/a0,b1/a0,b2/a0,b3/a0,b4/a0,b5/a0,b6/a0),(a1/a0,a2/a0,a3/a0,a4/a0,a5/a0,a6/a0)) with {
    LogPot(a, x) = ba.if(a, (exp(a * x) - 1) / (exp(a) - 1), x);
    Inverted(b, x) = ba.if(b, 1 - x, x);
    s = 0.993;
    fs = float(ma.SR);
    pre = _;


    b0 = fs*(fs*(fs*(fs*(fs*(9.44166524782917e-31*fs + 3.47874807701104e-24) + 9.42324983049416e-20) + 7.20586689015013e-16) + 1.5402082244362e-13) + 6.67432573373632e-11);

    b1 = fs*(fs*(pow(fs,2)*(fs*(-5.6649991486975e-30*fs - 1.39149923080442e-23) - 1.88464996609883e-19) + 3.08041644887241e-13) + 2.66973029349453e-10);

    b2 = fs*(fs*(fs*(fs*(fs*(1.41624978717438e-29*fs + 1.73937403850552e-23) - 9.42324983049416e-20) - 2.16176006704504e-15) - 1.5402082244362e-13) + 3.33716286686816e-10);

    b3 = pow(fs,2)*(pow(fs,2)*(-1.88833304956583e-29*pow(fs,2) + 3.76929993219766e-19) - 6.16083289774482e-13);

    b4 = fs*(fs*(fs*(fs*(fs*(1.41624978717438e-29*fs - 1.73937403850552e-23) - 9.42324983049416e-20) + 2.16176006704504e-15) - 1.5402082244362e-13) - 3.33716286686816e-10);

    b5 = fs*(fs*(pow(fs,2)*(fs*(-5.6649991486975e-30*fs + 1.39149923080442e-23) - 1.88464996609883e-19) + 3.08041644887241e-13) - 2.66973029349453e-10);

    b6 = fs*(fs*(fs*(fs*(fs*(9.44166524782917e-31*fs - 3.47874807701104e-24) + 9.42324983049416e-20) - 7.20586689015013e-16) + 1.5402082244362e-13) - 6.67432573373632e-11);

    a0 = fs*(fs*(fs*(fs*(fs*(9.44178363793602e-31*fs + 3.05164021419149e-24) + 2.55561788812715e-20) + 6.78999193907624e-16) + 5.38983190449059e-14) + 6.69966140468255e-11) + 3.33720471194168e-10;

    a1 = fs*(fs*(pow(fs,2)*(fs*(-5.66507018276161e-30*fs - 1.2206560856766e-23) - 5.11123577625429e-20) + 1.07796638089812e-13) + 2.67986456187302e-10) + 2.00232282716501e-9;

    a2 = fs*(fs*(fs*(fs*(fs*(1.4162675456904e-29*fs + 1.52582010709574e-23) - 2.55561788812715e-20) - 2.03699758172287e-15) - 5.38983190449059e-14) + 3.34983070234128e-10) + 5.00580706791252e-9;

    a3 = pow(fs,2)*(pow(fs,2)*(-1.8883567275872e-29*pow(fs,2) + 1.02224715525086e-19) - 2.15593276179624e-13) + 6.67440942388336e-9;

    a4 = fs*(fs*(fs*(fs*(fs*(1.4162675456904e-29*fs - 1.52582010709574e-23) - 2.55561788812715e-20) + 2.03699758172287e-15) - 5.38983190449059e-14) - 3.34983070234128e-10) + 5.00580706791252e-9;

    a5 = fs*(fs*(pow(fs,2)*(fs*(-5.66507018276161e-30*fs + 1.2206560856766e-23) - 5.11123577625429e-20) + 1.07796638089812e-13) - 2.67986456187302e-10) + 2.00232282716501e-9;

    a6 = fs*(fs*(fs*(fs*(fs*(9.44178363793602e-31*fs - 3.05164021419149e-24) + 2.55561788812715e-20) - 6.78999193907624e-16) + 5.38983190449059e-14) - 6.69966140468255e-11) + 3.33720471194168e-10;
};

p4 = pre : fi.iir((b0/a0,b1/a0),(a1/a0)) with {
    LogPot(a, x) = ba.if(a, (exp(a * x) - 1) / (exp(a) - 1), x);
    Inverted(b, x) = ba.if(b, 1 - x, x);
    s = 0.993;
    fs = float(ma.SR);
    pre = _;


    b0 = -0.979214847738530;

    b1 = -0.979214847738530;

    a0 = 4.30877203236301e-7*fs + 0.979317894244658;

    a1 = -4.30877203236301e-7*fs + 0.979317894244658;
};

p5 = pre : fi.iir((b0/a0,b1/a0,b2/a0,b3/a0,b4/a0),(a1/a0,a2/a0,a3/a0,a4/a0)) with {
    LogPot(a, x) = ba.if(a, (exp(a * x) - 1) / (exp(a) - 1), x);
    Inverted(b, x) = ba.if(b, 1 - x, x);
    s = 0.993;
    fs = float(ma.SR);
    pre = _;



    Low = vslider("Low[name:Low][style:knob]", 0.5, 0, 1, 0.01) : Inverted(1) : si.smooth(s);


    High = vslider("High[name:High][style:knob]", 0.5, 0, 1, 0.01) : Inverted(0) : si.smooth(s);

    b0 = High*(High*(Low*(Low*pow(fs,2)*(fs*(7.27654843982413e-21*fs + 1.65727764517951e-14) + 7.99235483766977e-11) + pow(fs,2)*(fs*(-7.27654843982413e-21*fs - 1.29345022318831e-14) - 6.23403677338242e-11)) + fs*(fs*(fs*(-7.27240351389247e-21*fs - 2.01674030602623e-14) - 1.97181527174289e-11) - 1.81644428128858e-9)) + Low*(Low*pow(fs,2)*(fs*(-7.27647567433973e-21*fs - 2.02108849439427e-14) - 9.75059297840874e-11) + pow(fs,2)*(fs*(7.27647567433973e-21*fs + 1.65726471067728e-14) + 7.99229249730203e-11)) + fs*(fs*(fs*(7.27233078985733e-21*fs + 2.3803403143178e-14) + 2.01874735604975e-11) + 2.21604385872926e-9)) + Low*(Low*fs*(fs*(fs*(-1.60158432001186e-22*fs - 3.68445149059683e-16) - 1.0045781804538e-11) - 3.99621738060907e-8) + fs*(fs*(fs*(1.60158432001186e-22*fs + 2.88365933059091e-16) + 7.83961682896149e-12) + 3.11704955687508e-8)) + fs*(fs*(fs*(1.60067201269546e-22*fs + 4.4756157832158e-16) + 1.05178079416309e-11) + 9.89915928390436e-9) + 9.08231222865698e-7;

    b1 = High*(High*(Low*(Low*pow(fs,3)*(-2.91061937592965e-20*fs - 3.31455529035902e-14) + pow(fs,3)*(2.91061937592965e-20*fs + 2.58690044637661e-14)) + fs*(pow(fs,2)*(2.90896140555699e-20*fs + 4.03348061205247e-14) - 3.63288856257717e-9)) + Low*(Low*pow(fs,3)*(2.91059026973589e-20*fs + 4.04217698878853e-14) + pow(fs,3)*(-2.91059026973589e-20*fs - 3.31452942135456e-14)) + fs*(pow(fs,2)*(-2.90893231594293e-20*fs - 4.76068062863559e-14) + 4.43208771745852e-9)) + Low*(Low*fs*(pow(fs,2)*(6.40633728004743e-22*fs + 7.36890298119367e-16) - 7.99243476121814e-8) + fs*(pow(fs,2)*(-6.40633728004743e-22*fs - 5.76731866118181e-16) + 6.23409911375015e-8)) + fs*(pow(fs,2)*(-6.40268805078186e-22*fs - 8.95123156643161e-16) + 1.97983185678087e-8) + 3.63292489146279e-6;

    b2 = High*(High*(Low*(Low*pow(fs,2)*(4.36592906389448e-20*pow(fs,2) - 1.59847096753395e-10) + pow(fs,2)*(-4.36592906389448e-20*pow(fs,2) + 1.24680735467648e-10)) + pow(fs,2)*(-4.36344210833548e-20*pow(fs,2) + 3.94363054348578e-11)) + Low*(Low*pow(fs,2)*(-4.36588540460384e-20*pow(fs,2) + 1.95011859568175e-10) + pow(fs,2)*(4.36588540460384e-20*pow(fs,2) - 1.59845849946041e-10)) + pow(fs,2)*(4.3633984739144e-20*pow(fs,2) - 4.0374947120995e-11)) + Low*(Low*pow(fs,2)*(-9.60950592007115e-22*pow(fs,2) + 2.0091563609076e-11) + pow(fs,2)*(9.60950592007115e-22*pow(fs,2) - 1.5679233657923e-11)) + pow(fs,2)*(9.60403207617278e-22*pow(fs,2) - 2.10356158832618e-11) + 5.44938733719419e-6;

    b3 = High*(High*(Low*(Low*pow(fs,3)*(-2.91061937592965e-20*fs + 3.31455529035902e-14) + pow(fs,3)*(2.91061937592965e-20*fs - 2.58690044637661e-14)) + fs*(pow(fs,2)*(2.90896140555699e-20*fs - 4.03348061205247e-14) + 3.63288856257717e-9)) + Low*(Low*pow(fs,3)*(2.91059026973589e-20*fs - 4.04217698878853e-14) + pow(fs,3)*(-2.91059026973589e-20*fs + 3.31452942135456e-14)) + fs*(pow(fs,2)*(-2.90893231594293e-20*fs + 4.76068062863559e-14) - 4.43208771745852e-9)) + Low*(Low*fs*(pow(fs,2)*(6.40633728004743e-22*fs - 7.36890298119367e-16) + 7.99243476121814e-8) + fs*(pow(fs,2)*(-6.40633728004743e-22*fs + 5.76731866118181e-16) - 6.23409911375015e-8)) + fs*(pow(fs,2)*(-6.40268805078186e-22*fs + 8.95123156643161e-16) - 1.97983185678087e-8) + 3.63292489146279e-6;

    b4 = High*(High*(Low*(Low*pow(fs,2)*(fs*(7.27654843982413e-21*fs - 1.65727764517951e-14) + 7.99235483766977e-11) + pow(fs,2)*(fs*(-7.27654843982413e-21*fs + 1.29345022318831e-14) - 6.23403677338242e-11)) + fs*(fs*(fs*(-7.27240351389247e-21*fs + 2.01674030602623e-14) - 1.97181527174289e-11) + 1.81644428128858e-9)) + Low*(Low*pow(fs,2)*(fs*(-7.27647567433973e-21*fs + 2.02108849439427e-14) - 9.75059297840874e-11) + pow(fs,2)*(fs*(7.27647567433973e-21*fs - 1.65726471067728e-14) + 7.99229249730203e-11)) + fs*(fs*(fs*(7.27233078985733e-21*fs - 2.3803403143178e-14) + 2.01874735604975e-11) - 2.21604385872926e-9)) + Low*(Low*fs*(fs*(fs*(-1.60158432001186e-22*fs + 3.68445149059683e-16) - 1.0045781804538e-11) + 3.99621738060907e-8) + fs*(fs*(fs*(1.60158432001186e-22*fs - 2.88365933059091e-16) + 7.83961682896149e-12) - 3.11704955687508e-8)) + fs*(fs*(fs*(1.60067201269546e-22*fs - 4.4756157832158e-16) + 1.05178079416309e-11) - 9.89915928390436e-9) + 9.08231222865698e-7;

    a0 = High*(High*(Low*(Low*pow(fs,2)*(fs*(7.2766212045808e-21*fs + 1.65729421779022e-14) + 7.99243476041882e-11) + pow(fs,2)*(fs*(-8.87747786974867e-21*fs - 2.02189530746631e-14) - 9.75075282470618e-11)) + fs*(fs*(fs*(-7.27249223648803e-21*fs - 1.65294112430321e-14) - 2.13521733098528e-12) - 1.81647043790457e-9)) + Low*(Low*pow(fs,2)*(fs*(-5.67569177320088e-21*fs - 1.29267655517195e-14) - 6.23403677178387e-11) + pow(fs,2)*(fs*(7.2765324298021e-21*fs + 1.6572755996778e-14) + 7.99234498949006e-11)) + fs*(fs*(fs*(5.67247473922159e-21*fs + 1.28928295977734e-14) + 1.66546343765405e-12) + 1.4168345313167e-9)) + Low*(Low*fs*(fs*(fs*(-1.76101705092231e-21*fs - 4.01446934498545e-15) - 2.7629145745247e-11) - 3.99627492556386e-8) + fs*(fs*(fs*(1.79625225831112e-21*fs + 4.09551127915918e-15) + 2.98391404153207e-11) + 4.87544274929785e-8)) + fs*(fs*(fs*(1.7600142784018e-21*fs + 4.00392275737179e-15) + 8.78156559685452e-12) + 1.50724796535871e-9) + 9.08248297481893e-7;

    a1 = High*(High*(Low*(Low*pow(fs,3)*(-2.91064848183232e-20*fs - 3.31458843558044e-14) + pow(fs,3)*(3.55099114789947e-20*fs + 4.04379061493262e-14)) + fs*(pow(fs,2)*(2.90899689459521e-20*fs + 3.30588224860642e-14) - 3.63294087580914e-9)) + Low*(Low*pow(fs,3)*(2.27027670928035e-20*fs + 2.5853531103439e-14) + pow(fs,3)*(-2.91061297192084e-20*fs - 3.3145511993556e-14)) + fs*(pow(fs,2)*(-2.26898989568864e-20*fs - 2.57856591955469e-14) + 2.83366906263341e-9)) + Low*(Low*fs*(pow(fs,2)*(7.04406820368923e-21*fs + 8.02893868997089e-15) - 7.99254985112771e-8) + fs*(pow(fs,2)*(-7.18500903324448e-21*fs - 8.19102255831836e-15) + 9.75088549859571e-8)) + fs*(pow(fs,2)*(-7.04005711360719e-21*fs - 8.00784551474358e-15) + 3.01449593071743e-9) + 3.63299318992757e-6;

    a2 = High*(High*(Low*(Low*pow(fs,2)*(4.36597272274848e-20*pow(fs,2) - 1.59848695208376e-10) + pow(fs,2)*(-5.3264867218492e-20*pow(fs,2) + 1.95015056494124e-10)) + pow(fs,2)*(-4.36349534189282e-20*pow(fs,2) + 4.27043466197056e-12)) + Low*(Low*pow(fs,2)*(-3.40541506392052e-20*pow(fs,2) + 1.24680735435677e-10) + pow(fs,2)*(4.36591945788126e-20*pow(fs,2) - 1.59846899789801e-10)) + pow(fs,2)*(3.40348484353295e-20*pow(fs,2) - 3.33092687530809e-12)) + Low*(Low*pow(fs,2)*(-1.05661023055338e-20*pow(fs,2) + 5.52582914904939e-11) + pow(fs,2)*(1.07775135498667e-20*pow(fs,2) - 5.96782808306414e-11)) + pow(fs,2)*(1.05600856704108e-20*pow(fs,2) - 1.7563131193709e-11) + 5.44948978489136e-6;

    a3 = High*(High*(Low*(Low*pow(fs,3)*(-2.91064848183232e-20*fs + 3.31458843558044e-14) + pow(fs,3)*(3.55099114789947e-20*fs - 4.04379061493262e-14)) + fs*(pow(fs,2)*(2.90899689459521e-20*fs - 3.30588224860642e-14) + 3.63294087580914e-9)) + Low*(Low*pow(fs,3)*(2.27027670928035e-20*fs - 2.5853531103439e-14) + pow(fs,3)*(-2.91061297192084e-20*fs + 3.3145511993556e-14)) + fs*(pow(fs,2)*(-2.26898989568864e-20*fs + 2.57856591955469e-14) - 2.83366906263341e-9)) + Low*(Low*fs*(pow(fs,2)*(7.04406820368923e-21*fs - 8.02893868997089e-15) + 7.99254985112771e-8) + fs*(pow(fs,2)*(-7.18500903324448e-21*fs + 8.19102255831836e-15) - 9.75088549859571e-8)) + fs*(pow(fs,2)*(-7.04005711360719e-21*fs + 8.00784551474358e-15) - 3.01449593071743e-9) + 3.63299318992757e-6;

    a4 = High*(High*(Low*(Low*pow(fs,2)*(fs*(7.2766212045808e-21*fs - 1.65729421779022e-14) + 7.99243476041882e-11) + pow(fs,2)*(fs*(-8.87747786974867e-21*fs + 2.02189530746631e-14) - 9.75075282470618e-11)) + fs*(fs*(fs*(-7.27249223648803e-21*fs + 1.65294112430321e-14) - 2.13521733098528e-12) + 1.81647043790457e-9)) + Low*(Low*pow(fs,2)*(fs*(-5.67569177320088e-21*fs + 1.29267655517195e-14) - 6.23403677178387e-11) + pow(fs,2)*(fs*(7.2765324298021e-21*fs - 1.6572755996778e-14) + 7.99234498949006e-11)) + fs*(fs*(fs*(5.67247473922159e-21*fs - 1.28928295977734e-14) + 1.66546343765405e-12) - 1.4168345313167e-9)) + Low*(Low*fs*(fs*(fs*(-1.76101705092231e-21*fs + 4.01446934498545e-15) - 2.7629145745247e-11) + 3.99627492556386e-8) + fs*(fs*(fs*(1.79625225831112e-21*fs - 4.09551127915918e-15) + 2.98391404153207e-11) - 4.87544274929785e-8)) + fs*(fs*(fs*(1.7600142784018e-21*fs - 4.00392275737179e-15) + 8.78156559685452e-12) - 1.50724796535871e-9) + 9.08248297481893e-7;
};

p6 = pre : fi.iir((b0/a0,b1/a0,b2/a0,b3/a0,b4/a0,b5/a0,b6/a0),(a1/a0,a2/a0,a3/a0,a4/a0,a5/a0,a6/a0)) with {
    LogPot(a, x) = ba.if(a, (exp(a * x) - 1) / (exp(a) - 1), x);
    Inverted(b, x) = ba.if(b, 1 - x, x);
    s = 0.993;
    fs = float(ma.SR);
    pre = _;


    MidFreq = vslider("MidFreq[name:MidFreq][style:knob]", 0.5, 0, 1, 0.01) : Inverted(1) : LogPot(3) : si.smooth(s);


    Middle = vslider("Middle[name:Middle][style:knob]", 0.5, 0, 1, 0.01) : Inverted(0) : si.smooth(s);

    b0 = MidFreq*(MidFreq*pow(fs,3)*(fs*(-8.50745535127841e-24*fs - 6.03542364493838e-22) - 2.78801903928758e-21) + pow(fs,2)*(fs*(fs*(fs*(1.59413660419242e-33*fs - 6.51283582428871e-25) - 3.98794778017077e-21) - 3.78333483968283e-19) - 1.78262686010574e-18)) + Middle*(MidFreq*pow(fs,4)*(fs*(-1.58889325644614e-33*fs - 9.72217975441437e-26) - 2.0613560670033e-20) + pow(fs,4)*(fs*(-6.99113032836304e-35*fs - 4.27969676664531e-27) - 9.07408940694853e-22)) + fs*(fs*(fs*(fs*(fs*(7.01420105844664e-35*fs - 1.21840999977658e-26) - 1.74095101616584e-22) - 4.73252562358157e-18) - 4.70826567683485e-17) - 1.17123972411678e-16);

    b1 = MidFreq*(MidFreq*pow(fs,4)*(3.40298214051137e-23*fs + 1.20708472898768e-21) + pow(fs,2)*(pow(fs,2)*(fs*(-9.5648196251545e-33*fs + 2.60513432971549e-24) + 7.97589556034154e-21) - 3.56525372021147e-18)) + Middle*(MidFreq*pow(fs,4)*(fs*(9.53335953867687e-33*fs + 3.88887190176575e-25) + 4.1227121340066e-20) + pow(fs,4)*(fs*(4.19467819701782e-34*fs + 1.71187870665812e-26) + 1.81481788138971e-21)) + fs*(fs*(pow(fs,2)*(fs*(-4.20852063506798e-34*fs + 4.87363999910633e-26) + 3.48190203233167e-22) - 9.4165313536697e-17) - 4.68495889646711e-16);

    b2 = MidFreq*(MidFreq*pow(fs,3)*(fs*(-4.25372767563921e-23*fs + 6.03542364493838e-22) + 8.36405711786274e-21) + pow(fs,2)*(fs*(fs*(fs*(2.39120490628863e-32*fs - 3.25641791214436e-24) + 3.98794778017077e-21) + 1.13500045190485e-18) + 1.78262686010574e-18)) + Middle*(MidFreq*pow(fs,4)*(fs*(-2.38333988466922e-32*fs - 4.86108987720719e-25) + 2.0613560670033e-20) + pow(fs,4)*(fs*(-1.04866954925446e-33*fs - 2.13984838332265e-26) + 9.07408940694853e-22)) + fs*(fs*(fs*(fs*(fs*(1.052130158767e-33*fs - 6.09204999888292e-26) + 1.74095101616584e-22) + 1.41975768707447e-17) + 4.70826567683485e-17) - 5.85619862058389e-16);

    b3 = MidFreq*(-2.41416945797535e-21*MidFreq*pow(fs,4) + pow(fs,2)*(pow(fs,2)*(-3.18827320838483e-32*pow(fs,2) - 1.59517911206831e-20) + 7.13050744042295e-18)) + Middle*(MidFreq*pow(fs,4)*(3.17778651289229e-32*pow(fs,2) - 8.24542426801321e-20) + pow(fs,4)*(1.39822606567261e-33*pow(fs,2) - 3.62963576277941e-21)) + pow(fs,2)*(pow(fs,2)*(-1.40284021168933e-33*pow(fs,2) - 6.96380406466334e-22) + 1.88330627073394e-16);

    b4 = MidFreq*(MidFreq*pow(fs,3)*(fs*(4.25372767563921e-23*fs + 6.03542364493838e-22) - 8.36405711786274e-21) + pow(fs,2)*(fs*(fs*(fs*(2.39120490628863e-32*fs + 3.25641791214436e-24) + 3.98794778017077e-21) - 1.13500045190485e-18) + 1.78262686010574e-18)) + Middle*(MidFreq*pow(fs,4)*(fs*(-2.38333988466922e-32*fs + 4.86108987720719e-25) + 2.0613560670033e-20) + pow(fs,4)*(fs*(-1.04866954925446e-33*fs + 2.13984838332265e-26) + 9.07408940694853e-22)) + fs*(fs*(fs*(fs*(fs*(1.052130158767e-33*fs + 6.09204999888292e-26) + 1.74095101616584e-22) - 1.41975768707447e-17) + 4.70826567683485e-17) + 5.85619862058389e-16);

    b5 = MidFreq*(MidFreq*pow(fs,4)*(-3.40298214051137e-23*fs + 1.20708472898768e-21) + pow(fs,2)*(pow(fs,2)*(fs*(-9.5648196251545e-33*fs - 2.60513432971549e-24) + 7.97589556034154e-21) - 3.56525372021147e-18)) + Middle*(MidFreq*pow(fs,4)*(fs*(9.53335953867687e-33*fs - 3.88887190176575e-25) + 4.1227121340066e-20) + pow(fs,4)*(fs*(4.19467819701782e-34*fs - 1.71187870665812e-26) + 1.81481788138971e-21)) + fs*(fs*(pow(fs,2)*(fs*(-4.20852063506798e-34*fs - 4.87363999910633e-26) + 3.48190203233167e-22) - 9.4165313536697e-17) + 4.68495889646711e-16);

    b6 = MidFreq*(MidFreq*pow(fs,3)*(fs*(8.50745535127841e-24*fs - 6.03542364493838e-22) + 2.78801903928758e-21) + pow(fs,2)*(fs*(fs*(fs*(1.59413660419242e-33*fs + 6.51283582428871e-25) - 3.98794778017077e-21) + 3.78333483968283e-19) - 1.78262686010574e-18)) + Middle*(MidFreq*pow(fs,4)*(fs*(-1.58889325644614e-33*fs + 9.72217975441437e-26) - 2.0613560670033e-20) + pow(fs,4)*(fs*(-6.99113032836304e-35*fs + 4.27969676664531e-27) - 9.07408940694853e-22)) + fs*(fs*(fs*(fs*(fs*(7.01420105844664e-35*fs + 1.21840999977658e-26) - 1.74095101616584e-22) + 4.73252562358157e-18) - 4.70826567683485e-17) + 1.17123972411678e-16);

    a0 = MidFreq*(MidFreq*pow(fs,2)*(fs*(fs*(fs*(7.99710830561595e-29*fs + 8.5145900624638e-24) + 7.78694052465638e-22) + 1.47852197219515e-20) + 2.9660148921093e-20) + fs*(fs*(fs*(fs*(fs*(7.03904948565599e-30*fs + 9.80535079572056e-25) + 2.46246374242121e-20) + 7.75550855077932e-19) + 9.92126976603426e-18) + 1.89643533262912e-17)) + Middle*(MidFreq*pow(fs,3)*(fs*(fs*(-1.58889325644614e-33*fs - 9.72217975441437e-26) - 2.0613560670033e-20) + 1.0184476711071e-33) + pow(fs,3)*(fs*(fs*(-6.99113032836304e-35*fs - 4.27969676664531e-27) - 9.07408940694853e-22) + 4.48320664821347e-35)) + fs*(fs*(fs*(fs*(fs*(1.54894160572139e-31*fs + 2.66612412581844e-26) + 1.12651252649031e-21) + 4.75123392465829e-18) + 1.44468636894667e-16) + 8.52275112210641e-16) + 1.24601533024252e-15;

    a1 = MidFreq*(MidFreq*pow(fs,2)*(pow(fs,2)*(fs*(-4.79826498336957e-28*fs - 3.40583602498552e-23) - 1.55738810493128e-21) + 5.9320297842186e-20) + fs*(fs*(pow(fs,2)*(fs*(-4.2234296913936e-29*fs - 3.92214031828822e-24) - 4.92492748484242e-20) + 1.98425395320685e-17) + 7.58574133051647e-17)) + Middle*(MidFreq*pow(fs,4)*(fs*(9.53335953867687e-33*fs + 3.88887190176575e-25) + 4.1227121340066e-20) + pow(fs,4)*(fs*(4.19467819701782e-34*fs + 1.71187870665812e-26) + 1.81481788138971e-21)) + fs*(fs*(pow(fs,2)*(fs*(-9.29364963432833e-31*fs - 1.06644965032738e-25) - 2.25302505298062e-21) + 2.88937273789334e-16) + 3.40910044884256e-15) + 7.47609198145513e-15;

    a2 = MidFreq*(MidFreq*pow(fs,2)*(fs*(fs*(fs*(1.19956624584239e-27*fs + 4.2572950312319e-23) - 7.78694052465638e-22) - 4.43556591658545e-20) - 2.9660148921093e-20) + fs*(fs*(fs*(fs*(fs*(1.0558574228484e-28*fs + 4.90267539786028e-24) - 2.46246374242121e-20) - 2.3266525652338e-18) - 9.92126976603426e-18) + 9.48217666314559e-17)) + Middle*(MidFreq*pow(fs,3)*(fs*(fs*(-2.38333988466922e-32*fs - 4.86108987720719e-25) + 2.0613560670033e-20) - 3.05534301332131e-33) + pow(fs,3)*(fs*(fs*(-1.04866954925446e-33*fs - 2.13984838332265e-26) + 9.07408940694853e-22) - 1.34496199446404e-34)) + fs*(fs*(fs*(fs*(fs*(2.32341240858208e-30*fs + 1.33306206290922e-25) - 1.12651252649031e-21) - 1.42537017739749e-17) - 1.44468636894667e-16) + 4.2613755610532e-15) + 1.86902299536378e-14;

    a3 = MidFreq*(MidFreq*pow(fs,2)*(pow(fs,2)*(-1.59942166112319e-27*pow(fs,2) + 3.11477620986255e-21) - 1.18640595684372e-19) + pow(fs,2)*(pow(fs,2)*(-1.4078098971312e-28*pow(fs,2) + 9.84985496968484e-20) - 3.9685079064137e-17)) + Middle*(MidFreq*pow(fs,4)*(3.17778651289229e-32*pow(fs,2) - 8.24542426801321e-20) + pow(fs,4)*(1.39822606567261e-33*pow(fs,2) - 3.62963576277941e-21)) + pow(fs,2)*(pow(fs,2)*(-3.09788321144278e-30*pow(fs,2) + 4.50605010596125e-21) - 5.77874547578669e-16) + 2.49203066048504e-14;

    a4 = MidFreq*(MidFreq*pow(fs,2)*(fs*(fs*(fs*(1.19956624584239e-27*fs - 4.2572950312319e-23) - 7.78694052465638e-22) + 4.43556591658545e-20) - 2.9660148921093e-20) + fs*(fs*(fs*(fs*(fs*(1.0558574228484e-28*fs - 4.90267539786028e-24) - 2.46246374242121e-20) + 2.3266525652338e-18) - 9.92126976603426e-18) - 9.48217666314559e-17)) + Middle*(MidFreq*pow(fs,3)*(fs*(fs*(-2.38333988466922e-32*fs + 4.86108987720719e-25) + 2.0613560670033e-20) + 3.05534301332131e-33) + pow(fs,3)*(fs*(fs*(-1.04866954925446e-33*fs + 2.13984838332265e-26) + 9.07408940694853e-22) + 1.34496199446404e-34)) + fs*(fs*(fs*(fs*(fs*(2.32341240858208e-30*fs - 1.33306206290922e-25) - 1.12651252649031e-21) + 1.42537017739749e-17) - 1.44468636894667e-16) - 4.2613755610532e-15) + 1.86902299536378e-14;

    a5 = MidFreq*(MidFreq*pow(fs,2)*(pow(fs,2)*(fs*(-4.79826498336957e-28*fs + 3.40583602498552e-23) - 1.55738810493128e-21) + 5.9320297842186e-20) + fs*(fs*(pow(fs,2)*(fs*(-4.2234296913936e-29*fs + 3.92214031828822e-24) - 4.92492748484242e-20) + 1.98425395320685e-17) - 7.58574133051647e-17)) + Middle*(MidFreq*pow(fs,4)*(fs*(9.53335953867687e-33*fs - 3.88887190176575e-25) + 4.1227121340066e-20) + pow(fs,4)*(fs*(4.19467819701782e-34*fs - 1.71187870665812e-26) + 1.81481788138971e-21)) + fs*(fs*(pow(fs,2)*(fs*(-9.29364963432833e-31*fs + 1.06644965032738e-25) - 2.25302505298062e-21) + 2.88937273789334e-16) - 3.40910044884256e-15) + 7.47609198145513e-15;

    a6 = MidFreq*(MidFreq*pow(fs,2)*(fs*(fs*(fs*(7.99710830561595e-29*fs - 8.5145900624638e-24) + 7.78694052465638e-22) - 1.47852197219515e-20) + 2.9660148921093e-20) + fs*(fs*(fs*(fs*(fs*(7.03904948565599e-30*fs - 9.80535079572056e-25) + 2.46246374242121e-20) - 7.75550855077932e-19) + 9.92126976603426e-18) - 1.89643533262912e-17)) + Middle*(MidFreq*pow(fs,3)*(fs*(fs*(-1.58889325644614e-33*fs + 9.72217975441437e-26) - 2.0613560670033e-20) - 1.0184476711071e-33) + pow(fs,3)*(fs*(fs*(-6.99113032836304e-35*fs + 4.27969676664531e-27) - 9.07408940694853e-22) - 4.48320664821347e-35)) + fs*(fs*(fs*(fs*(fs*(1.54894160572139e-31*fs - 2.66612412581844e-26) + 1.12651252649031e-21) - 4.75123392465829e-18) + 1.44468636894667e-16) - 8.52275112210641e-16) + 1.24601533024252e-15;
};

p7 = pre : fi.iir((b0/a0,b1/a0,b2/a0),(a1/a0,a2/a0)) with {
    LogPot(a, x) = ba.if(a, (exp(a * x) - 1) / (exp(a) - 1), x);
    Inverted(b, x) = ba.if(b, 1 - x, x);
    s = 0.993;
    fs = float(ma.SR);
    pre = _;


    Level = vslider("Level[name:Level][style:knob]", 0.5, 0, 1, 0.01) : Inverted(0) : LogPot(3) : si.smooth(s);

    b0 = 3.8263106690977e-10*Level*pow(fs,2);

    b1 = -7.65262133819539e-10*Level*pow(fs,2);

    b2 = 3.8263106690977e-10*Level*pow(fs,2);

    a0 = Level*(Level*fs*(-1.94205568898967e-10*fs - 9.69714192020253e-11) + fs*(1.94205568898967e-10*fs + 9.69714192020253e-11)) + fs*(3.8546782189863e-10*fs + 3.86810536439698e-10) + 9.69714192020253e-11;

    a1 = Level*(3.88411137797935e-10*Level*pow(fs,2) - 3.88411137797935e-10*pow(fs,2)) - 7.7093564379726e-10*pow(fs,2) + 1.93942838404051e-10;

    a2 = Level*(Level*fs*(-1.94205568898967e-10*fs + 9.69714192020253e-11) + fs*(1.94205568898967e-10*fs - 9.69714192020253e-11)) + fs*(3.8546782189863e-10*fs - 3.86810536439698e-10) + 9.69714192020253e-11;
};

process = p3 : p4 : p5 : p6 : p7;
