
// valvecaster_p2_table generated by DK/circ_table_gen.py -- do not modify manually

 // variables used
 // --sig_max  1.400000
 // --table_div  1.000000
 // --table_op  1.000000

struct tablevalvecaster_p2 { // 1-dimensional function table
    float low;
    float high;
    float istep;
    int size;
    float data[];
};

template <int tab_size>
struct tablevalvecaster_p2_imp {
    float low;
    float high;
    float istep;
    int size;
    float data[tab_size];
    operator tablevalvecaster_p2&() const { return *(tablevalvecaster_p2*)this; }
};

 static tablevalvecaster_p2_imp<200> valvecaster_p2_table  = {
	0,-0.66359,142.143,200, {
	0.000000000000,-0.012523484944,-0.024942548790,-0.037238706353,-0.049399679142,
	-0.061416058071,-0.073280344336,-0.084986468991,-0.096529501407,-0.107905451661,
	-0.119111126409,-0.130144018145,-0.141002216798,-0.151684337048,-0.162189457235,
	-0.172517067092,-0.182667022405,-0.192639505266,-0.202434988905,-0.212054206374,
	-0.221498122499,-0.230767908643,-0.239864919922,-0.248790674587,-0.257546835299,
	-0.266135192121,-0.274557647033,-0.282816199824,-0.290912935231,-0.298850011208,
	-0.306629648222,-0.314254119493,-0.321725742089,-0.329046868806,-0.336219880772,
	-0.343247180707,-0.350131186794,-0.356874327109,-0.363479034557,-0.369947742291,
	-0.376282879555,-0.382486867933,-0.388562117962,-0.394511026090,-0.400335971936,
	-0.406039315846,-0.411623396706,-0.417090530004,-0.422443006102,-0.427683088737,
	-0.432813013680,-0.437834987595,-0.442751187037,-0.447563757605,-0.452274813225,
	-0.456886435559,-0.461400673516,-0.465819542878,-0.470145026005,-0.474379071634,
	-0.478523594753,-0.482580476542,-0.486551564384,-0.490438671923,-0.494243579187,
	-0.497968032747,-0.501613745925,-0.505182399036,-0.508675639668,-0.512095082986,
	-0.515442312071,-0.518718878277,-0.521926301609,-0.525066071124,-0.528139645342,
	-0.531148452673,-0.534093891861,-0.536977332428,-0.539800115130,-0.542563552427,
	-0.545268928945,-0.547917501951,-0.550510501830,-0.553049132558,-0.555534572181,
	-0.557967973291,-0.560350463505,-0.562683145932,-0.564967099652,-0.567203380178,
	-0.569393019927,-0.571537028672,-0.573636394006,-0.575692081789,-0.577705036595,
	-0.579676182150,-0.581606421773,-0.583496638795,-0.585347696990,-0.587160440986,
	-0.588935696677,-0.590674271624,-0.592376955455,-0.594044520250,-0.595677720927,
	-0.597277295615,-0.598843966029,-0.600378437826,-0.601881400963,-0.603353530048,
	-0.604795484676,-0.606207909773,-0.607591435915,-0.608946679658,-0.610274243847,
	-0.611574717930,-0.612848678258,-0.614096688378,-0.615319299330,-0.616517049924,
	-0.617690467021,-0.618840065803,-0.619966350040,-0.621069812349,-0.622150934446,
	-0.623210187399,-0.624248031867,-0.625264918338,-0.626261287365,-0.627237569785,
	-0.628194186951,-0.629131550939,-0.630050064767,-0.630950122597,-0.631832109942,
	-0.632696403859,-0.633543373145,-0.634373378525,-0.635186772835,-0.635983901204,
	-0.636765101228,-0.637530703143,-0.638281029993,-0.639016397792,-0.639737115685,
	-0.640443486107,-0.641135804930,-0.641814361618,-0.642479439366,-0.643131315251,
	-0.643770260363,-0.644396539942,-0.645010413516,-0.645612135023,-0.646201952942,
	-0.646780110414,-0.647346845365,-0.647902390620,-0.648446974021,-0.648980818537,
	-0.649504142376,-0.650017159090,-0.650520077678,-0.651013102694,-0.651496434339,
	-0.651970268564,-0.652434797161,-0.652890207861,-0.653336684418,-0.653774406703,
	-0.654203550788,-0.654624289030,-0.655036790155,-0.655441219339,-0.655837738282,
	-0.656226505293,-0.656607675356,-0.656981400211,-0.657347828421,-0.657707105443,
	-0.658059373697,-0.658404772634,-0.658743438796,-0.659075505887,-0.659401104828,
	-0.659720363826,-0.660033408424,-0.660340361566,-0.660641343652,-0.660936472592,
	-0.661225863860,-0.661509630551,-0.661787883427,-0.662060730970,-0.662328279433,
	-0.662590632885,-0.662847893262,-0.663100160408,-0.663347532124,-0.663590104212
	}
};

double always_inline valvecaster_p2clip(double x) {
    double f = fabs(x);
    f = f * valvecaster_p2_table.istep;
    int i = static_cast<int>(f);
    if (i < 0) {
        f = valvecaster_p2_table.data[0];
    } else if (i >= valvecaster_p2_table.size-1) {
        f = valvecaster_p2_table.data[valvecaster_p2_table.size-1];
    } else {
    f -= i;
    f = valvecaster_p2_table.data[i]*(1-f) + valvecaster_p2_table.data[i+1]*f;
    }
    return copysign(f, x);
}

